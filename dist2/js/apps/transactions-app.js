"use strict";$(document).ready(function(){"#success"==window.location.hash&&toastr.success(errHandle.get().TRANSACTION_UNLINK_SUCCESS,"Notice"),"#error"==window.location.hash&&toastr.error(errHandle.get().TRANSACTION_UNLINK_ERROR,"Error"),window.location.hash="";var t=$("#transactions-table").DataTable({order:[],bSortClasses:!1,autoWidth:!1,dom:"<'row'<'col-sm-4'l><'col-sm-4 text-center'B><'col-sm-4'f>>tp",lengthMenu:[[50,75,100,-1],[50,75,100,"All"]],buttons:[{extend:"copy",className:"btn-sm"},{extend:"csv",title:"transactions",className:"btn-sm"},{extend:"pdf",title:"transactions",orientation:"landscape",className:"btn-sm"},{extend:"print",className:"btn-sm"}],aoColumnDefs:[{bSearchable:!1,aTargets:[6]}]});$("table").on("click","a",function(){var t=$(this).text();$(".transactions-body input.form-control").val(t),$(".transactions-body input.form-control").trigger("keyup")}),$(".transactions-body p.yellow").html("<p>There are "+t.rows().count()+" results for a total of "+number_format(t.column(4).data().sum(),2,".",",")+" ISK</p>"),$("#transactions-table_filter input").keyup(function(){$(".transactions-body p.yellow").html("There are "+t.rows({filter:"applied"}).count()+" results for a total of "+number_format(t.column(4,{filter:"applied"}).data().sum(),2,".",",")+" ISK")}),$("table").on("click","button",function(){var t=$(this).data("transaction"),a=$("#unlink").data("url"),n=a+"/"+t;$(".btn-unlink-confirm").attr("data-url",n)}),$(".btn-unlink-confirm").on("click",function(){var t=$(".btn-unlink-confirm").data("url");$.ajax({dataType:"json",url:t,success:function(t){$("#unlink").modal("toggle"),"true"==t.result?(window.location.hash="#success",location.reload()):(window.location.hash="#error",location.reload())}})})});